# План автоматизации тестирования вэб-сервиса для покупки тура с оплатой дебетовой или кредитной картой.

## Перечень автоматизируемых сценариев.

Перечень валидных данных для тестирования:
1. Номер карты: состоит из 16 цифр,
   
   4444 4444 4444 4441 статус ОДОБРЕН.
   
   4444 4444 4444 4442 статус ОТКЛОНЕН.
2. Месяц - значение из цифр в формате ХХ от 1 до 12 включительно.

*При значении года = текущему году, значение месяца должно быть не меньше текущего.

3. Год - значение из двух последних цифр года в формате ХХ, не ранее
   текущего года.
4. Владелец - значение длиной от 1 латинской буквы, допустимы пробелы и дефисы.
5. CVC/CVV - 3 цифры.


### Позитивные сценарии тестирования UI.

### *1.Оплата тура дебетовой картой с использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести номер карты со статусом ОДОБРЕН.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Появляется сообщение "Успешно Операция одобрена банком".


### *2.Оплата тура кредитной картой с использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить в кредит.
2. Ввести номер карты со статусом ОДОБРЕН.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Появляется сообщение "Успешно Операция одобрена банком".

### *3.Оплата тура отклонена при оплате действующей дебетовой картой со статусом ОТКЛОНЕН и с использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести номер карты со статусом ОТКЛОНЕН.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Появляется сообщение "Отказ Операция отклонена банком".

### *4.Оплата тура отклонена при оплате действующей кредитной картой со статусом ОТКЛОНЕН и с использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить в кредит.
2. Ввести номер карты со статусом ОТКЛОНЕН.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Появляется сообщение "Отказ Операция отклонена банком".


#### Негативные сценарии тестирования UI.

### *1.Оплата тура дебетовой картой без заполнения полей формы.*
##### Шаги:
1. Нажать кнопку Купить.
2. Нажать кнопку Продолжить.

* Ожидаемый результат: Все поля для ввода данных подсвечены красным, под полями с числовыми значениями появляется сообщение 
"Неверный формат", под полем Владелец "Поле обязательно для заполнения".

### *2.Оплата тура кредитной картой без заполнения полей формы.*
##### Шаги:
1. Нажать кнопку Купить.
2. Нажать кнопку Продолжить.

* Ожидаемый результат: Все поля для ввода данных подсвечены красным,
  под полями с числовыми значениями
  появляется сообщение "Неверный формат", под полем Владелец "Поле
  обязательно для заполнения"

### *3.Оплата тура дебетовой картой с невалидным номером длиной 16 цифр.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести номер карты, состоящий из 16 цифр.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Появляется сообщение "Отказ Операция отклонена банком".

### *4.Оплата тура дебетовой картой с номером длиной 17 цифр.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести номер карты, состоящий из 17 цифр.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Номер карты подсвечивается красным,
  появляется сообщение "Неверный формат".

### *5.Оплата тура дебетовой картой с номером длиной 15 цифр.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести номер карты, состоящий из 15 цифр.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Номер карты подсвечивается красным,
  появляется сообщение "Неверный формат".

### *6.Оплата тура дебетовой картой с номером, состоящим из символов.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести номер карты, состоящий из символов (спецсимволы, пробелы,
   тире, дефис).
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Номер карты подсвечивается красным,
  появляется сообщение "Неверный формат".

#### *Тесты 3,4,5,6 выполняются аналогично для оплаты кредитной картой нажатием первым шагом кнопки Купить в кредит*

### *7.Оплата тура дебетовой картой с пустым полем Месяц и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Оставить пустым поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *8.Оплата тура дебетовой картой со значением 00 в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести значение 00 в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *9.Оплата тура дебетовой картой со значением 13 в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести значение 13 в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *10.Оплата тура дебетовой картой со значением, состоящим из одной цифры в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести значение 1 в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *11.Оплата тура дебетовой картой со значением, состоящим из спецсимвола в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести значение из спецсимволов в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *12.Оплата тура дебетовой картой,если в поле Месяц значение, ранее текущего месяца и значением текущего года в поле Год*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести в поле Месяц зачение, равное текщий месяц - 1, в формате ХХ.
4. Ввести в поле Год последние две цифры текущего года.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Операция отклонена. Истек срок действия карты".*


#### *Тесты 7,8,9,10,11,12 выполняются аналогично для оплаты кредитной картой нажатием первым шагом кнопки Купить в кредит*


### *13.Оплата тура дебетовой картой с пустым полем Год и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Оставить пустым поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *14.Оплата тура дебетовой картой со значением в поле Год, ранее текущего года и с использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести в поле Год значение, ранее текущего года.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Операция отклонена. Истек срок действия карты".*

### *15.Оплата тура дебетовой картой со спецсимволами в поле Год и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести в поле Год спецсимволы.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *16.Оплата тура дебетовой картой с одной цифрой в поле Год и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести в поле Год одну цифру.
5. Ввести валидное значение в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

#### *Тесты 13,14,15,16 выполняются аналогично для оплаты кредитной картой нажатием первым шагом кнопки Купить в кредит*


### *17.Оплата тура дебетовой картой с пустым полем Владелец и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Оставить пустым поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Владелец подсвечивается красным,
  появляется сообщение "Поле обязательно для заполнения".


### *18.Оплата тура дебетовой картой с цифрами в поле Владелец и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести цифры в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Владелец подсвечивается красным,
  появляется сообщение "Неверный формат".


### *19.Оплата тура дебетовой картой со спецсимволами в поле Владелец и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести спецсимволы в поле Владелец.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Владелец подсвечивается красным,
  появляется сообщение "Неверный формат".

### *20.Оплата тура дебетовой картой со значением в поле Владелец, набранным кириллицей и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести в поле Владелец значение, набранное кириллицей.
6. Ввести валидное значение в поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Владелец подсвечивается красным,
  появляется сообщение "Неверный формат".

#### *Тесты 17,18,19,20 выполняются аналогично для оплаты кредитной картой нажатием первым шагом кнопки Купить в кредит*

### *21.Оплата тура дебетовой картой с пустым полем CVC/CVV и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Оставить пустым поле CVC/CVV.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *22.Оплата тура дебетовой картой с двумя цифрами в поле CVC/CVV и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести в поле CVC/CVV две цифры.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *23.Оплата тура дебетовой картой с буквами в поле CVC/CVV и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести в поле CVC/CVV буквы.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

### *24.Оплата тура дебетовой картой со спецсимволами в поле CVC/CVV и использованием валидных данных.*
##### Шаги:
1. Нажать кнопку Купить.
2. Ввести валидный номер карты в поле Номер карты.
3. Ввести валидное значение в поле Месяц.
4. Ввести валидное значение в поле Год.
5. Ввести валидное значение в поле Владелец.
6. Ввести в поле CVC/CVV спецсимволы.
7. Нажать кнопку Продолжить.

* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
  сообщение "Неверный формат".

#### *Тесты 21,22,23,24 выполняются аналогично для оплаты кредитной картой нажатием первым шагом кнопки Купить в кредит*


### Cценарии тестирования API

Проверка правильности обработки запросов на 2-х БД:
- MySQL;
- PostgreSQL.

### *Позитивные сценарии:*

Отправка POST-запросов с данными валидных карт на

- http://localhost:9999/credit
- http://localhost:9999/payment

* Ожидаемый результат: Status 200, в базе появляется запись, которой присваивается id и статус 
"APPROVED" или "DECLINED".

### *Негативные сценарии:*
Отправка POST-запросов с данными невалидных карт на

- http://localhost:9999/credit
- http://localhost:9999/payment

* Ожидаемый результат: Status 400, в базе отсутствует запись.


## Перечень используемых инструментов с обоснованием выбора.
1. IntelliJ IDEA - это наиболее удобная IDE для программирования на
   различных языках.
2. Gradle - система, автоматизирующая процесс сборки проекта.
3. Docker Compose - система сборки, запуска и управления множеством контейнеров,
   позволяющая работать, в том числе, с СУБД.
4. DBeaver - программа для работы с СУБД, популярный инструмент,
   работающий, в том числе,с MySQL и PostgreSQL.
5. Java 11 для написания автотестов. Java имеет широкий спектр библиотек и
   фреймворков, доступных для тестирования.
6. JUnit5 популярная платформа для тестирования, наиболее удобная и продвинутая
   версия.
7. Selenide - это удобный и лаоничный фреймворк для
   автоматизированного тестирования
   веб-приложений на основе Selenium WebDriver.
8. Faker - библиотека для генерации случайных данных, широко
   применяемая в тестировании.
9. Allure - популярный инструмент построения отчётов автотестов,
   упрощающий их анализ.
10. Git и GitHub для хранения кода, результатов тестирования.


## Перечень и описание возможных рисков при автоматизации.

* Малый опыт тестировщика.
* Сбои в работе ПК.
* Сбои в работе приложения.
* Изменения в тестовых данных в процессе написания автотестов.
* Отсутствие тестовых меток.
* Отсутствие документации.

## Интервальная оценка с учётом рисков в часах.

- Планирование автоматизации тестирования - 7
- Непосредственно сама автоматизация - 40
- Подготовка баг-репортов и отчётных документов по итогам
  автоматизированного тестирования - 8
- Подготовка отчётных документов по итогам автоматизации - 5

Итого: 60 часов.

## План сдачи работ: когда будут готовы автотесты, результаты их прогона.

- Настройка окружения и планирование  - до 12.11.23.
- Написание автотестов и тестирование - до 27.11.23.
- Подготовка отчетной документации по тестированию - до 05.12.23.
